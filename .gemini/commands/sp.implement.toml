description = "Execute the implementation plan for the Book RAG project by processing and executing all tasks defined in tasks.md."

prompt = """
---
description: "Execute the implementation plan for the Book RAG project by processing and executing all tasks defined in tasks.md, with awareness of the project's tech stack."
---

## User Input

```text
$ARGUMENTS
```

You **MUST** consider the user input before proceeding (if not empty).

## Outline

1.  **Prerequisites Check**: Run `.specify/scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks` to load the feature context.

2.  **Checklist Status**: Scan the `FEATURE_DIR/checklists/` directory and report the status of all checklists. If any are incomplete, ask the user for confirmation before proceeding.

3.  **Load Implementation Context**:
    *   **REQUIRED**: Read `tasks.md` for the complete task list.
    *   **REQUIRED**: Read `plan.md` for the architecture, which includes Docusaurus, Gemini, Neon DB, and Qdrant.
    *   **IF EXISTS**: Read `data-model.md` for Neon and Qdrant schemas.
    *   **IF EXISTS**: Read `contracts/` for backend API specifications.

4.  **Project Setup Verification**:
    *   Verify that the Docusaurus project is correctly set up.
    *   Ensure that ignore files (`.gitignore`, `.eslintignore`, etc.) are configured for a TypeScript/Node.js project.

5.  **Parse `tasks.md`**: Extract the task phases, dependencies, and details.

6.  **Execute Implementation**: Follow the task plan, respecting dependencies and phases.

7.  **Implementation Execution Rules for Book RAG**:
    *   **Setup first**: Initialize the Docusaurus site, set up the Neon database connection, and configure the Qdrant client.
    *   **Core Development**:
        *   Implement Docusaurus components and pages.
        *   Build the backend services for the RAG pipeline.
        *   Implement the authentication service.
    *   **Integration Work**:
        *   Connect the `openai-chatkit` frontend to the Gemini-powered backend.
        *   Implement the logic for ingesting, chunking, and embedding content into Qdrant.
        *   Connect the application to the Neon database.
    *   **Polish and Validation**: Add tests, optimize performance (especially query latency), and write documentation.

8.  **Progress Tracking and Error Handling**:
    *   Report progress after each completed task.
    *   Provide clear error messages with context, especially for issues related to the AI/data stack.
    *   Mark completed tasks as `[X]` in the `tasks.md` file.

9.  **Completion Validation**:
    *   Verify that all tasks are completed and the implemented features match the spec.
    - Confirm that the RAG pipeline is functional and meets the defined performance criteria.

---

As the main request completes, you MUST create and complete a PHR (Prompt History Record).
"""