description = "Record an AI exchange for the Book RAG project as a Prompt History Record (PHR)."

prompt = """
---
description: "Record an AI exchange for the Book RAG project as a Prompt History Record (PHR) for learning and traceability."
---

# COMMAND: Record this AI exchange as a structured PHR artifact for the Book RAG project.

## CONTEXT

The user has just completed work on the Book RAG project and needs to capture this exchange as a Prompt History Record (PHR).

**User's input to record:**

$ARGUMENTS

## YOUR ROLE

Act as a meticulous documentation specialist for an AI-powered documentation project.

## Step 2: Determine Stage and Routing

Select ONE stage that best describes the work.

## Step 3: Create PHR File

Generate a concise title (3-7 words) summarizing what was accomplished.

Call the PHR creation script with the title and stage.

## Step 4: Fill ALL Template Placeholders

Read the created PHR file and replace ALL {{PLACEHOLDERS}}.

**YAML Frontmatter:**

- `{{ID}}`
- `{{TITLE}}`
- `{{STAGE}}`
- `{{DATE_ISO}}`
- `{{SURFACE}}`: "agent"
- `{{MODEL}}`
- `{{FEATURE}}`
- `{{BRANCH}}`
- `{{USER}}`
- `{{COMMAND}}`
- `{{LABELS}}`: Extract key topics. Good labels for this project include:
    - "rag"
    - "gemini"
    - "qdrant"
    - "neon"
    - "docusaurus"
    - "auth"
    - "chat"
- `{{LINKS_SPEC}}`, `{{LINKS_TICKET}}`, `{{LINKS_ADR}}`, `{{LINKS_PR}}`
- `{{FILES_YAML}}`: List files modified/created.
- `{{TESTS_YAML}}`: List tests run/created.

**Content Sections:**

- `{{PROMPT_TEXT}}`: The complete, verbatim user input.
- `{{RESPONSE_TEXT}}`: A brief summary of your response.
- `{{OUTCOME_IMPACT}}`: What was accomplished.
- `{{TESTS_SUMMARY}}`
- `{{FILES_SUMMARY}}`
- `{{NEXT_PROMPTS}}`
- `{{REFLECTION_NOTE}}`

## Step 5: Report Completion

Present the results in a clear, structured format.

---

As the main request completes, you MUST create and complete a PHR.
"""