"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[1531],{435:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"physical-ai-book/chapter3/gazebo-architecture","title":"3.1 Gazebo Architecture","description":"Learning Objectives","source":"@site/docs/physical-ai-book/chapter3/gazebo-architecture.md","sourceDirName":"physical-ai-book/chapter3","slug":"/physical-ai-book/chapter3/gazebo-architecture","permalink":"/docs/physical-ai-book/chapter3/gazebo-architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/muhammad-anas35/RAGai/tree/main/docs/physical-ai-book/chapter3/gazebo-architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"2.1 ROS 2 Architecture","permalink":"/docs/physical-ai-book/chapter2/ros2-architecture"},"next":{"title":"3.4 Gazebo-ROS 2 Integration","permalink":"/docs/physical-ai-book/chapter3/gazebo-ros2-integration"}}');var r=s(4848),l=s(8453);const t={},o="3.1 Gazebo Architecture",d={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Gazebo Classic vs. Modern Gazebo",id:"gazebo-classic-vs-modern-gazebo",level:2},{value:"The Evolution",id:"the-evolution",level:3},{value:"Why the Change?",id:"why-the-change",level:3},{value:"Gazebo Architecture Overview",id:"gazebo-architecture-overview",level:2},{value:"Core Components",id:"core-components",level:3},{value:"1. <strong>gz-sim</strong> (Gazebo Sim)",id:"1-gz-sim-gazebo-sim",level:3},{value:"2. <strong>gz-physics</strong>",id:"2-gz-physics",level:3},{value:"3. <strong>gz-rendering</strong>",id:"3-gz-rendering",level:3},{value:"4. <strong>gz-sensors</strong>",id:"4-gz-sensors",level:3},{value:"5. <strong>gz-transport</strong>",id:"5-gz-transport",level:3},{value:"Entity-Component-System (ECS) Architecture",id:"entity-component-system-ecs-architecture",level:2},{value:"Concepts",id:"concepts",level:3},{value:"Example: A Humanoid Robot",id:"example-a-humanoid-robot",level:3},{value:"Gazebo Workflow",id:"gazebo-workflow",level:2},{value:"Development Cycle",id:"development-cycle",level:3},{value:"Simulation Modes",id:"simulation-modes",level:3},{value:"1. <strong>GUI Mode</strong> (Development)",id:"1-gui-mode-development",level:4},{value:"2. <strong>Headless Mode</strong> (Testing/CI)",id:"2-headless-mode-testingci",level:4},{value:"3. <strong>Accelerated Mode</strong> (Training)",id:"3-accelerated-mode-training",level:4},{value:"Configuration Files",id:"configuration-files",level:2},{value:"SDF (Simulation Description Format)",id:"sdf-simulation-description-format",level:3},{value:"Plugin System",id:"plugin-system",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Real-Time Factor (RTF)",id:"real-time-factor-rtf",level:3},{value:"Optimization Tips",id:"optimization-tips",level:3},{value:"Installation (Ubuntu 22.04)",id:"installation-ubuntu-2204",level:2},{value:"Gazebo Fortress (LTS)",id:"gazebo-fortress-lts",level:3},{value:"Gazebo Harmonic (Newer LTS)",id:"gazebo-harmonic-newer-lts",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Reflection Questions",id:"reflection-questions",level:2},{value:"Further Reading",id:"further-reading",level:2}];function a(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"31-gazebo-architecture",children:"3.1 Gazebo Architecture"})}),"\n",(0,r.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(n.p,{children:"By the end of this section, you will be able to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Understand the architecture of modern Gazebo (Fortress/Harmonic)"}),"\n",(0,r.jsx)(n.li,{children:"Explain the difference between Gazebo Classic and modern Gazebo"}),"\n",(0,r.jsx)(n.li,{children:"Identify key Gazebo components (physics, rendering, sensors)"}),"\n",(0,r.jsx)(n.li,{children:"Configure Gazebo for humanoid robot simulation"}),"\n",(0,r.jsx)(n.li,{children:"Understand the role of simulation in the development workflow"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(n.p,{children:["Before deploying a humanoid robot in the real world, you need to test your algorithms safely and efficiently. ",(0,r.jsx)(n.strong,{children:"Gazebo"})," is the industry-standard 3D robot simulator that allows you to:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Test navigation algorithms without risking hardware"}),"\n",(0,r.jsx)(n.li,{children:"Train reinforcement learning policies in accelerated time"}),"\n",(0,r.jsx)(n.li,{children:"Validate sensor processing pipelines"}),"\n",(0,r.jsx)(n.li,{children:"Debug control systems in a reproducible environment"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This section introduces the architecture of modern Gazebo and its role in the Physical AI development workflow."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"gazebo-classic-vs-modern-gazebo",children:"Gazebo Classic vs. Modern Gazebo"}),"\n",(0,r.jsx)(n.h3,{id:"the-evolution",children:"The Evolution"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Gazebo Classic (11)"}),(0,r.jsx)(n.th,{children:"Modern Gazebo (Fortress/Harmonic)"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Status"})}),(0,r.jsx)(n.td,{children:"EOL (January 2025)"}),(0,r.jsx)(n.td,{children:"Active (LTS until 2026/2028)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Architecture"})}),(0,r.jsx)(n.td,{children:"Monolithic"}),(0,r.jsx)(n.td,{children:"Modular (loosely coupled libraries)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Physics"})}),(0,r.jsx)(n.td,{children:"ODE (primary)"}),(0,r.jsx)(n.td,{children:"DART, Bullet, TPE"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Rendering"})}),(0,r.jsx)(n.td,{children:"OGRE 1.x"}),(0,r.jsx)(n.td,{children:"OGRE 2.x (Ogre-Next)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ROS Integration"})}),(0,r.jsxs)(n.td,{children:["ROS 1 (",(0,r.jsx)(n.code,{children:"gazebo_ros_pkgs"}),")"]}),(0,r.jsxs)(n.td,{children:["ROS 2 (",(0,r.jsx)(n.code,{children:"ros_gz_bridge"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Graphics"})}),(0,r.jsx)(n.td,{children:"Basic"}),(0,r.jsx)(n.td,{children:"Enhanced (PBR, better shadows)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Headless Mode"})}),(0,r.jsx)(n.td,{children:"Limited"}),(0,r.jsx)(n.td,{children:"Full EGL support"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Python API"})}),(0,r.jsx)(n.td,{children:"Limited"}),(0,r.jsx)(n.td,{children:"Native Python interface"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"For this course"}),": We use ",(0,r.jsx)(n.strong,{children:"Gazebo Fortress"})," (LTS until September 2026) or ",(0,r.jsx)(n.strong,{children:"Gazebo Harmonic"})," (LTS until September 2028)."]}),"\n",(0,r.jsx)(n.h3,{id:"why-the-change",children:"Why the Change?"}),"\n",(0,r.jsx)(n.p,{children:"Gazebo Classic served the robotics community for over a decade, but modern robotics demands required a redesign:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Modularity"}),": Swap physics engines without recompiling"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance"}),": Better multi-threading and GPU utilization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scalability"}),": Support for large-scale multi-robot simulations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintainability"}),": Cleaner codebase, easier to extend"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"gazebo-architecture-overview",children:"Gazebo Architecture Overview"}),"\n",(0,r.jsx)(n.h3,{id:"core-components",children:"Core Components"}),"\n",(0,r.jsxs)(n.p,{children:["Modern Gazebo is built from ",(0,r.jsx)(n.strong,{children:"modular libraries"}),", each handling a specific aspect of simulation:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502              Gazebo Sim (gz-sim)                \u2502\r\n\u2502         Main simulation orchestrator            \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n           \u2502\r\n           \u251c\u2500\u2500\u25b6 gz-physics    (Physics engines)\r\n           \u251c\u2500\u2500\u25b6 gz-rendering  (3D graphics)\r\n           \u251c\u2500\u2500\u25b6 gz-sensors    (Sensor simulation)\r\n           \u251c\u2500\u2500\u25b6 gz-gui        (User interface)\r\n           \u251c\u2500\u2500\u25b6 gz-transport  (Communication)\r\n           \u251c\u2500\u2500\u25b6 gz-msgs       (Message definitions)\r\n           \u2514\u2500\u2500\u25b6 gz-math       (Math utilities)\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"1-gz-sim-gazebo-sim",children:["1. ",(0,r.jsx)(n.strong,{children:"gz-sim"})," (Gazebo Sim)"]}),"\n",(0,r.jsx)(n.p,{children:"The main simulation engine that orchestrates all components."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Entity-Component-System (ECS) architecture"}),"\n",(0,r.jsx)(n.li,{children:"Plugin system for extensibility"}),"\n",(0,r.jsx)(n.li,{children:"Distributed simulation support"}),"\n",(0,r.jsx)(n.li,{children:"Headless mode for CI/CD"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"2-gz-physics",children:["2. ",(0,r.jsx)(n.strong,{children:"gz-physics"})]}),"\n",(0,r.jsx)(n.p,{children:"Abstraction layer for multiple physics engines."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Supported Engines"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DART"})," (Default): Fast, stable, good for manipulation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Bullet"}),": Real-time collision detection, rigid body dynamics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TPE"})," (Trivial Physics Engine): Lightweight, for simple scenarios"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why Multiple Engines?"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"DART: Best for humanoid walking (contact dynamics)"}),"\n",(0,r.jsx)(n.li,{children:"Bullet: Best for fast collision detection"}),"\n",(0,r.jsx)(n.li,{children:"TPE: Best for lightweight simulations (drones)"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"3-gz-rendering",children:["3. ",(0,r.jsx)(n.strong,{children:"gz-rendering"})]}),"\n",(0,r.jsx)(n.p,{children:"3D rendering engine with multiple backends."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Rendering Engines"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OGRE 2.x"})," (Default): Modern, PBR (Physically Based Rendering)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Optix"}),": NVIDIA ray-tracing (photorealistic)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Real-time shadows and reflections"}),"\n",(0,r.jsx)(n.li,{children:"Depth cameras and semantic segmentation"}),"\n",(0,r.jsx)(n.li,{children:"GPU-accelerated rendering"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"4-gz-sensors",children:["4. ",(0,r.jsx)(n.strong,{children:"gz-sensors"})]}),"\n",(0,r.jsx)(n.p,{children:"Simulates robot sensors with realistic noise models."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Supported Sensors"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Camera"}),": RGB, depth, thermal, segmentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"LiDAR"}),": 2D/3D, configurable resolution"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"IMU"}),": Accelerometer, gyroscope, magnetometer"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contact"}),": Force/torque sensors"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GPS"}),": Global positioning"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Altimeter"}),": Altitude measurement"]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"5-gz-transport",children:["5. ",(0,r.jsx)(n.strong,{children:"gz-transport"})]}),"\n",(0,r.jsx)(n.p,{children:"Communication layer for inter-process messaging."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Topic-based pub/sub (like ROS)"}),"\n",(0,r.jsx)(n.li,{children:"Service calls"}),"\n",(0,r.jsx)(n.li,{children:"Protobuf messages"}),"\n",(0,r.jsx)(n.li,{children:"Discovery mechanism"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"entity-component-system-ecs-architecture",children:"Entity-Component-System (ECS) Architecture"}),"\n",(0,r.jsxs)(n.p,{children:["Modern Gazebo uses ",(0,r.jsx)(n.strong,{children:"ECS"}),", a design pattern common in game engines."]}),"\n",(0,r.jsx)(n.h3,{id:"concepts",children:"Concepts"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Entity"}),": A unique ID representing an object (robot, sensor, light)\r\n",(0,r.jsx)(n.strong,{children:"Component"}),": Data attached to an entity (pose, velocity, mesh)\r\n",(0,r.jsx)(n.strong,{children:"System"}),": Logic that operates on entities with specific components"]}),"\n",(0,r.jsx)(n.h3,{id:"example-a-humanoid-robot",children:"Example: A Humanoid Robot"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Entity: "Atlas Robot" (ID: 42)\r\n\u251c\u2500\u2500 Components:\r\n\u2502   \u251c\u2500\u2500 Pose (position, orientation)\r\n\u2502   \u251c\u2500\u2500 Model (URDF/SDF description)\r\n\u2502   \u251c\u2500\u2500 Physics (mass, inertia)\r\n\u2502   \u251c\u2500\u2500 Collision (shapes for contact)\r\n\u2502   \u2514\u2500\u2500 Visual (meshes for rendering)\r\n\u2514\u2500\u2500 Systems:\r\n    \u251c\u2500\u2500 PhysicsSystem (updates pose based on forces)\r\n    \u251c\u2500\u2500 RenderingSystem (draws the robot)\r\n    \u2514\u2500\u2500 SensorSystem (processes camera/LiDAR)\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Benefits"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Performance"}),": Systems process only relevant entities"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flexibility"}),": Add/remove components dynamically"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parallelism"}),": Systems can run concurrently"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"gazebo-workflow",children:"Gazebo Workflow"}),"\n",(0,r.jsx)(n.h3,{id:"development-cycle",children:"Development Cycle"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"1. Design Robot (URDF/SDF)\r\n   \u2193\r\n2. Create World (SDF file)\r\n   \u2193\r\n3. Launch Gazebo\r\n   \u2193\r\n4. Test Algorithms (ROS 2 nodes)\r\n   \u2193\r\n5. Iterate (modify, relaunch)\r\n   \u2193\r\n6. Deploy to Real Robot\n"})}),"\n",(0,r.jsx)(n.h3,{id:"simulation-modes",children:"Simulation Modes"}),"\n",(0,r.jsxs)(n.h4,{id:"1-gui-mode-development",children:["1. ",(0,r.jsx)(n.strong,{children:"GUI Mode"})," (Development)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"gz sim world.sdf\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Full 3D visualization"}),"\n",(0,r.jsx)(n.li,{children:"Interactive controls"}),"\n",(0,r.jsx)(n.li,{children:"Real-time debugging"}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"2-headless-mode-testingci",children:["2. ",(0,r.jsx)(n.strong,{children:"Headless Mode"})," (Testing/CI)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"gz sim -s world.sdf\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No GUI (faster)"}),"\n",(0,r.jsx)(n.li,{children:"Ideal for automated testing"}),"\n",(0,r.jsx)(n.li,{children:"Batch simulations"}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"3-accelerated-mode-training",children:["3. ",(0,r.jsx)(n.strong,{children:"Accelerated Mode"})," (Training)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"gz sim --iterations 1000 world.sdf\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Run faster than real-time"}),"\n",(0,r.jsx)(n.li,{children:"Train RL policies quickly"}),"\n",(0,r.jsx)(n.li,{children:"Requires headless mode"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"configuration-files",children:"Configuration Files"}),"\n",(0,r.jsx)(n.h3,{id:"sdf-simulation-description-format",children:"SDF (Simulation Description Format)"}),"\n",(0,r.jsxs)(n.p,{children:["Gazebo uses ",(0,r.jsx)(n.strong,{children:"SDF"})," to describe worlds, models, and robots."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example: Simple World"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\r\n<sdf version="1.8">\r\n  <world name="humanoid_world">\r\n    \x3c!-- Physics engine --\x3e\r\n    <physics name="dart_physics" type="dart">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1.0</real_time_factor>\r\n    </physics>\r\n    \r\n    \x3c!-- Lighting --\x3e\r\n    <light type="directional" name="sun">\r\n      <pose>0 0 10 0 0 0</pose>\r\n      <diffuse>1 1 1 1</diffuse>\r\n      <specular>0.5 0.5 0.5 1</specular>\r\n    </light>\r\n    \r\n    \x3c!-- Ground plane --\x3e\r\n    <model name="ground_plane">\r\n      <static>true</static>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n            </plane>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <plane>\r\n              <normal>0 0 1</normal>\r\n              <size>100 100</size>\r\n            </plane>\r\n          </geometry>\r\n        </visual>\r\n      </link>\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"plugin-system",children:"Plugin System"}),"\n",(0,r.jsxs)(n.p,{children:["Gazebo's functionality is extended via ",(0,r.jsx)(n.strong,{children:"plugins"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Plugin Types"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"World Plugins"}),": Modify world behavior"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Model Plugins"}),": Control robot behavior"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sensor Plugins"}),": Process sensor data"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"System Plugins"}),": Add custom systems"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example: Simple Model Plugin"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<model name="my_robot">\r\n  <plugin filename="gz-sim-diff-drive-system"\r\n          name="gz::sim::systems::DiffDrive">\r\n    <left_joint>left_wheel_joint</left_joint>\r\n    <right_joint>right_wheel_joint</right_joint>\r\n    <wheel_separation>0.5</wheel_separation>\r\n    <wheel_radius>0.1</wheel_radius>\r\n  </plugin>\r\n</model>\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"real-time-factor-rtf",children:"Real-Time Factor (RTF)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"RTF"})," measures simulation speed relative to real time:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RTF = 1.0"}),": Simulation runs at real-time speed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RTF > 1.0"}),": Faster than real-time (good for training)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RTF < 1.0"}),": Slower than real-time (complex scenes)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Factors Affecting RTF"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Physics engine (DART vs Bullet)"}),"\n",(0,r.jsx)(n.li,{children:"Number of contacts (humanoid feet on ground)"}),"\n",(0,r.jsx)(n.li,{children:"Sensor resolution (high-res cameras slow down)"}),"\n",(0,r.jsx)(n.li,{children:"Rendering quality (shadows, reflections)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"optimization-tips",children:"Optimization Tips"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Do"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use headless mode for training (",(0,r.jsx)(n.code,{children:"-s"})," flag)"]}),"\n",(0,r.jsx)(n.li,{children:"Reduce physics step size only if needed"}),"\n",(0,r.jsx)(n.li,{children:"Use simplified collision meshes"}),"\n",(0,r.jsx)(n.li,{children:"Disable unnecessary sensors"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Don't"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Run GUI mode for batch simulations"}),"\n",(0,r.jsx)(n.li,{children:"Use high-res textures unnecessarily"}),"\n",(0,r.jsx)(n.li,{children:"Enable all visual effects in headless mode"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"installation-ubuntu-2204",children:"Installation (Ubuntu 22.04)"}),"\n",(0,r.jsx)(n.h3,{id:"gazebo-fortress-lts",children:"Gazebo Fortress (LTS)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Add Gazebo repository\r\nsudo sh -c 'echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main\" > /etc/apt/sources.list.d/gazebo-stable.list'\r\nwget https://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -\r\n\r\n# Install Gazebo Fortress\r\nsudo apt update\r\nsudo apt install gz-fortress\r\n\r\n# Verify installation\r\ngz sim --version\n"})}),"\n",(0,r.jsx)(n.h3,{id:"gazebo-harmonic-newer-lts",children:"Gazebo Harmonic (Newer LTS)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Install Gazebo Harmonic\r\nsudo apt update\r\nsudo apt install gz-harmonic\r\n\r\n# Verify\r\ngz sim --version\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Modern Gazebo"})," (Fortress/Harmonic) replaces Gazebo Classic (EOL 2025)"]}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Modular Architecture"}),": Swap physics engines, rendering backends"]}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"ECS Design"}),": Efficient, flexible, parallelizable"]}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Multiple Physics Engines"}),": DART (default), Bullet, TPE"]}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"ROS 2 Integration"}),": Native support via ",(0,r.jsx)(n.code,{children:"ros_gz_bridge"})]}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Performance"}),": Headless mode, accelerated time for training"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"reflection-questions",children:"Reflection Questions"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Why did Gazebo move from a monolithic to a modular architecture?"}),"\n",(0,r.jsx)(n.li,{children:"When would you choose DART over Bullet as your physics engine?"}),"\n",(0,r.jsx)(n.li,{children:"How does the ECS architecture improve simulation performance?"}),"\n",(0,r.jsx)(n.li,{children:"What are the trade-offs between GUI mode and headless mode?"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gazebo Documentation"}),": ",(0,r.jsx)(n.a,{href:"https://gazebosim.org/docs",children:"gazebosim.org/docs"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gazebo Fortress"}),": ",(0,r.jsx)(n.a,{href:"https://gazebosim.org/docs/fortress",children:"gazebosim.org/docs/fortress"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Migration Guide"}),": ",(0,r.jsx)(n.a,{href:"https://gazebosim.org/docs/all/migration",children:"gazebosim.org/docs/all/migration"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SDF Specification"}),": ",(0,r.jsx)(n.a,{href:"http://sdformat.org/spec",children:"sdformat.org/spec"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Previous Chapter"}),": ",(0,r.jsx)(n.a,{href:"/docs/physical-ai-book/chapter2/launch-parameters",children:"\u2190 Chapter 2: ROS 2 Fundamentals"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Next Section"}),": ",(0,r.jsx)(n.a,{href:"/docs/physical-ai-book/chapter3/worlds-models",children:"3.2 Creating Worlds and Models \u2192"})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(6540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);